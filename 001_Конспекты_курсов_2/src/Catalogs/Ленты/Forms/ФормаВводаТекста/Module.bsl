
#Область ОбработчикиСобытийФормы
&НаКлиенте
Процедура ПриЗакрытии(ЗавершениеРаботы)
	Если ЗначениеЗаполнено(ВведенныйТекст) Тогда
		СтруктураПараметров = Новый Структура("ВведенныйТекст, Тэг, НомерСтроки, Якорь", ВведенныйТекст, Тег, НомерСтроки, Якорь);
		ОповеститьОВыборе(СтруктураПараметров);
	КонецЕсли;
КонецПроцедуры

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Если Параметры.Свойство("Комментарий") Тогда
		ВведенныйТекст = Параметры.Комментарий;
	КонецЕсли;

	Если Параметры.Свойство("Тэг") Тогда
		Тег = Параметры.Тэг;
	КонецЕсли;
	
	Если Параметры.Свойство("НомерСтроки") Тогда
		НомерСтроки = Параметры.НомерСтроки;
	КонецЕсли;

	Если Параметры.Свойство("Якорь") Тогда
		Якорь = Параметры.Якорь; 
	КонецЕсли;
	
	Если Не ЗначениеЗаполнено(Тег) Тогда
		Тег = Справочники.Тэги.НайтиПоКоду("000000007");
	КонецЕсли;
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиКомандФормы

&НаКлиенте
Процедура КомандаРедактировать(Команда)
		
		СтрутураПараметров = Новый Структура;
		ВыделенныйТекст = Элементы.ВведенныйТекстРасширеннаяПодсказка.Родитель.ВыделенныйТекст;
		СтрутураПараметров.Вставить("Комментарий", 		ВыделенныйТекст);
//		СтрутураПараметров.Вставить("Тэг", 				текСтрока.Тэг);
//		СтрутураПараметров.Вставить("НомерСтроки",		текСтрока.НомерСтроки);	
//		СтрутураПараметров.Вставить("Якорь",			текСтрока.Якорь);  	
		
		ОткрытьФорму("Справочник.Ленты.Форма.ФормаРедактирования", СтрутураПараметров, ЭтотОбъект);
КонецПроцедуры

&НаКлиенте
Процедура КомандаЖирный(Команда)
	ВыделенныйТекст = Элементы.ВведенныйТекстРасширеннаяПодсказка.Родитель.ВыделенныйТекст;
	ВыделенныйТекстЗамена = "<b>" + ВыделенныйТекст + "</b>";
	ВведенныйТекст = СтрЗаменить(ВведенныйТекст, ВыделенныйТекст, ВыделенныйТекстЗамена); 
КонецПроцедуры

#КонецОбласти